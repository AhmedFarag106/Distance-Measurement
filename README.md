# Ultrasonic Distance Measurement 

This project aims to implement a distance measurement system using the HC-SR04 ultrasonic sensor and the ATmega32 microcontroller. The system measures the distance using the ultrasonic sensor and displays the distance value on an LCD screen. The project specifications and requirements are as follows:

## System Requirements

1. Microcontroller: ATmega32 with a frequency of 8 MHz.

2. Ultrasonic Sensor: HC-SR04, which uses ultrasonic waves to measure distance.

3. LCD Display: A 4x16 LCD to display the distance measurement.

4. Layered Architecture: The project should be designed and implemented based on the layered architecture model.

## GPIO Driver Requirements

1. Use the same GPIO driver implemented in the course.

## ICU Driver Requirements

1. Configure the ICU to operate with a frequency of F_CPU/8.

2. Configure the ICU to detect the rising edge as the first edge.

3. The `ICU_init` and `ICU_setCallBack` functions should be called inside the `Ultrasonic_init` function.

## LCD Driver Requirements

1. Use a 4x16 LCD display.

2. Connect the LCD control pins and 8-bits data pins as follows:
   - RS → PB0
   - RW → Ground
   - E → PB1
   - Data Bus → all PORTA pins.

## Ultrasonic Driver Requirements

1. Implement a full Ultrasonic Driver using the ATmega32 ICU driver.

2. The Ultrasonic driver should have three functions:

   a. `void Ultrasonic_init(void)`

      - Description:
        - Initializes the ICU driver as required.
        - Sets up the ICU callback function.
        - Sets up the direction for the trigger pin as an output pin through the GPIO driver.

      - Inputs: None
      - Return: None

   b. `void Ultrasonic_Trigger(void)`

      - Description:
        - Sends the trigger pulse to the ultrasonic sensor.

      - Inputs: None
      - Return: None

   c. `uint16 Ultrasonic_readDistance(void)`

      - Description:
        - Triggers the ultrasonic sensor by calling the `Ultrasonic_Trigger` function.
        - Starts the measurements using the ICU from this moment.
        - Returns the measured distance in centimeters.

      - Inputs: None
      - Return: The measured distance in centimeters (uint16).

   d. `void Ultrasonic_edgeProcessing(void)`

      - Description:
        - This is the callback function called by the ICU driver.
        - Calculates the high time (pulse time) generated by the ultrasonic sensor.

      - Inputs: None
      - Return: None

Please refer to the provided documentation file "HC-SR04 Ultrasonic MT Student Tutorial" for a detailed understanding of how to interface with the HC-SR04 ultrasonic sensor
